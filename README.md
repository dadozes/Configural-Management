# Парсер конфигурационного языка (вариант №9)

Демо-версия инструмента командной строки для преобразования текста на учебном конфигурационном языке в XML-формат.

## Описание

Программа читает конфигурацию на специальном языке, парсит её и сохраняет результат в XML-файл. Демо-версия содержит встроенные тестовые данные, поэтому не требует ввода от пользователя.

## Синтаксис поддерживаемого языка

### Комментарии
- Однострочные: `" Это комментарий`
- Многострочные:
  ```
  /#
  Это многострочный
  комментарий
  #/
  ```

### Числа
- Простые целые: `8080`, `42`

### Строки
- В формате: `q(текст)`

### Константы
- Объявление: `(define имя значение)`
- Пример: `(define port 8080)`

### Константные выражения
- Вычисление: `$имя 1 +$` (добавляет 1 к значению константы)
- Пример: `$port 1 +$` → `8081`

### Словари
```
{
    имя : значение;
    вложенный : {
        ключ : значение;
    };
}
```

## Как запустить

1. Убедитесь, что у вас установлен Python 3.8 или выше
2. Скачайте файл `config_parser_demo.py`
3. Запустите в терминале:
   ```bash
   python config_parser_demo.py
   ```

## Что делает программа

После запуска:
1. Загружает встроенный пример конфигурации
2. Парсит его, обрабатывая все конструкции языка
3. Вычисляет константные выражения
4. Сохраняет результат в файл `config_output.xml`
5. Выводит информацию о процессе в консоль

## Пример работы

**Входные данные (встроены в код):**
```
(define port 8080)
{
    server : {
        address : q(localhost);
        port : $port 1 +$;
    };
}
```

**Выходной XML:**
```xml
<?xml version="1.0" encoding="utf-8"?>
<config>
  <server>
    <address>localhost</address>
    <port>8081</port>
  </server>
</config>
```

## Структура кода

Основные компоненты:

1. **ConfigParser** - основной класс для парсинга
   - `parse()` - главный метод обработки текста
   - `parse_dict()` - рекурсивный парсинг словарей
   - `parse_constant_expression()` - вычисление выражений

2. **Преобразование в XML**
   - Функция `dict_to_xml()` рекурсивно превращает словарь в XML

3. **Демо-режим**
   - Все тестовые данные встроены в код
   - Автоматический запуск без аргументов

## Особенности реализации

- Рекурсивная обработка вложенных структур
- Поддержка всех конструкций языка варианта №9
- Детальный вывод информации для отладки
- Автономность - не требует внешних файлов

## Технические детали

- Язык: Python 3.8+
- Зависимости: только стандартная библиотека
- Выходной формат: валидный XML с форматированием
- Обработка ошибок: базовая демонстрация возможностей

## Для разработки

Если нужно расширить функциональность:
- Добавить чтение из файла (аргумент `-i`)
- Добавить указание выходного файла (аргумент `-o`)
- Улучшить обработку ошибок с указанием строки
- Добавить больше операций для константных выражений

## Контакты

Проект выполнен в рамках учебного задания по дисциплине "Конфигурационное управление", РТУ МИРЭА, 2025/2026 учебный год.
